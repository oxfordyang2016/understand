webpackJsonp([1],[,,,,,,,,function(e,t,s){"use strict";window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var o=window.location.origin;t.a={baseURL:o,timeout:5e4}},,,,,,,,,function(e,t,s){"use strict";var o=s(2);t.a=new o.default},,,,,,,,,,function(e,t,s){s(103);var o=s(4)(s(116),s(91),null,null);e.exports=o.exports},,,,,,,,function(e,t,s){s(106);var o=s(4)(s(114),s(94),null,null);e.exports=o.exports},function(e,t){},function(e,t,s){"use strict";var o=s(2),i=s(111),a=s(86),n=s.n(a),l=s(88),r=s.n(l);o.default.use(i.a),t.a=new i.a({mode:"history",routes:[{path:"/devices",name:"devices",component:n.a},{path:"/streams",name:"streams",component:r.a}]})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){s(104);var o=s(4)(s(115),s(92),null,null);e.exports=o.exports},function(e,t,s){s(109);var o=s(4)(s(117),s(97),null,null);e.exports=o.exports},function(e,t,s){s(101);var o=s(4)(s(118),s(89),null,null);e.exports=o.exports},function(e,t,s){s(108);var o=s(4)(s(119),s(96),null,null);e.exports=o.exports},function(e,t,s){s(110);var o=s(4)(s(120),s(98),null,null);e.exports=o.exports},function(e,t,s){s(102);var o=s(4)(s(121),s(90),null,null);e.exports=o.exports},function(e,t,s){s(105);var o=s(4)(s(122),s(93),null,null);e.exports=o.exports},function(e,t,s){s(107);var o=s(4)(s(123),s(95),null,null);e.exports=o.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div")},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"show"},[s("comp-ivpadd",{attrs:{col:e.col_size}}),e._v(" "),e._l(e.ivps,function(t,o){return s("comp-ivp",{attrs:{ivpid:t.id,info:t.ip,col:e.col_size,slotStatus:t.slot_name,sColor:t.slot_status}})})],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-col",{staticClass:"ivp-col",attrs:{span:e.col,id:e.ivpid}},[s("a",{attrs:{href:"http://"+e.info,target:"view_window"}},[e._v(e._s(e.info))]),e._v(" "),s("div",{ref:"ivp",staticClass:"ivp-table",style:{backgroundColor:e.backgroundColor[e.iColor]}},[s("div",{staticClass:"ivp-table-box",style:{fontSize:4*e.col+"px"}},[s("el-col",{attrs:{span:16}},[s("div",{staticClass:"ivp-cell",style:{backgroundColor:e.color[e.sColor[6]]}},[e._v("\n          "+e._s(e.slotStatus[6])+"\n        ")])]),e._v(" "),s("el-col",{attrs:{span:8}},[s("i",{staticClass:"el-icon-more ivp-more",on:{click:function(t){e.dialogFormVisible=!0}}})]),e._v(" "),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"ivp-cell",style:{backgroundColor:e.color[e.sColor[3]]}},[e._v("\n          "+e._s(e.slotStatus[3])+"\n        ")])]),e._v(" "),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"ivp-cell",style:{backgroundColor:e.color[e.sColor[4]]}},[e._v("\n          "+e._s(e.slotStatus[4])+"\n        ")])]),e._v(" "),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"ivp-cell",style:{backgroundColor:e.color[e.sColor[5]]}},[e._v("\n          "+e._s(e.slotStatus[5])+"\n        ")])]),e._v(" "),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"ivp-cell",style:{backgroundColor:e.color[e.sColor[0]]}},[e._v("\n          "+e._s(e.slotStatus[0])+"\n        ")])]),e._v(" "),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"ivp-cell",style:{backgroundColor:e.color[e.sColor[1]]}},[e._v("\n          "+e._s(e.slotStatus[1])+"\n        ")])]),e._v(" "),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"ivp-cell",style:{backgroundColor:e.color[e.sColor[2]]}},[e._v("\n          "+e._s(e.slotStatus[2])+"\n        ")])])],1)]),e._v(" "),s("el-dialog",{attrs:{title:"IVP Status"},model:{value:e.dialogFormVisible,callback:function(t){e.dialogFormVisible=t},expression:"dialogFormVisible"}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-menu",{staticClass:"top-bar",attrs:{theme:"dark",mode:"horizontal"}},[s("i",{staticClass:"el-icon-menu icon-menu",on:{click:e.click_left}}),e._v(" "),s("div",{staticClass:"top-search"},[s("el-input",{staticClass:"top-search",attrs:{placeholder:"Search IVP, Streams",icon:"search",max:"450px","on-icon-click":e.handleIconClick},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),e._v(" "),s("div",{staticClass:"top-switch"},[e._v("\n    IVP\n    "),s("el-switch",{attrs:{width:"55","on-text":"","off-text":""},on:{change:e.change_url},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}}),e._v("\n    Streams\n  ")],1),e._v(" "),s("comp-keep")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"stream-line"},[e._l(e.devices,function(t,o){return[t.line[0]?s("comp-line",{attrs:{col:e.col,lColor:t.line[1]}}):e._e(),e._v(" "),s("comp-ivp",{attrs:{col:e.col,sColor:t.slot,iColor:t.device,info:t.ip,slotStatus:t.name}})]})],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("comp-bar"),e._v(" "),s("div",{staticClass:"main"},[s("comp-left"),e._v(" "),s("transition",{attrs:{name:"el-fade-in-linear"}},[s("router-view")],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"show"},e._l(e.streams,function(e,t){return s("comp-stream",{attrs:{ivpnum:e.length,devices:e}})}))},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"slide-fade"}},[s("el-menu",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"el-menu-vertical-demo left-bar",attrs:{"default-active":"2"}},[s("el-form",{ref:"form",staticClass:"left-form",attrs:{model:e.form1,"label-width":"180px"}},[s("span",{staticClass:"left-name"},[e._v("IVP")]),e._v(" "),s("el-form-item",{attrs:{label:"Refresh Frequency:"}},[s("div",{staticClass:"left-input"},[s("el-input",{attrs:{size:"small"},model:{value:e.form1.second,callback:function(t){e.form1.second=t},expression:"form1.second"}},[s("template",{slot:"append"},[e._v("S")])],2)],1)]),e._v(" "),s("el-form-item",{attrs:{label:"Display Mode:","label-width":"166px"}},[s("div",{staticClass:"left-select"},[s("el-select",{attrs:{size:"small",placeholder:""},model:{value:e.form1.type,callback:function(t){e.form1.type=t},expression:"form1.type"}},[s("el-option",{attrs:{label:"a",value:"shanghai"}}),e._v(" "),s("el-option",{attrs:{label:"b",value:"beijing"}}),e._v(" "),s("el-option",{attrs:{label:"c",value:"beijing1"}})],1)],1)]),e._v(" "),s("el-form-item",{attrs:{"label-width":"0"}},[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit_a}},[e._v("Submit")])],1)],1),e._v(" "),s("el-form",{ref:"form",staticClass:"left-form",attrs:{model:e.form2,"label-width":"180px"}},[s("span",{staticClass:"left-name"},[e._v("Streams")]),e._v(" "),s("el-form-item",{attrs:{label:"Refresh Frequency:"}},[s("div",{staticClass:"left-input"},[s("el-input",{attrs:{size:"small"},model:{value:e.form2.second,callback:function(t){e.form2.second=t},expression:"form2.second"}},[s("template",{slot:"append"},[e._v("S")])],2)],1)]),e._v(" "),s("el-form-item",{attrs:{label:"Display Mode:","label-width":"166px"}},[s("div",{staticClass:"left-select"},[s("el-select",{attrs:{size:"small",placeholder:""},model:{value:e.form2.type,callback:function(t){e.form2.type=t},expression:"form2.type"}},[s("el-option",{attrs:{label:"a",value:"shanghai"}}),e._v(" "),s("el-option",{attrs:{label:"b",value:"beijing"}}),e._v(" "),s("el-option",{attrs:{label:"c",value:"beijing"}})],1)],1)]),e._v(" "),s("el-form-item",{attrs:{"label-width":"0"}},[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit_b}},[e._v("Submit")])],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-col",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"ivp-col",attrs:{span:e.col}},[s("span",[e._v("Add IVP")]),e._v(" "),s("div",{ref:"ivp",staticClass:"ivp-add-table",on:{click:function(t){e.dialogFormVisible=!0}}},[s("div",{staticClass:"ivp-table-box ivp-add-box"},[s("i",{staticClass:"el-icon-plus ivp-add-icon",style:{fontSize:e.size}})])]),e._v(" "),s("el-dialog",{attrs:{title:"Add IVP"},on:{open:e.open},model:{value:e.dialogFormVisible,callback:function(t){e.dialogFormVisible=t},expression:"dialogFormVisible"}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"addition-form",attrs:{"element-loading-text":"committing"}},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"90px"}},[s("el-form-item",{attrs:{label:"Device IP"}},[s("el-input",{model:{value:e.form.ip,callback:function(t){e.form.ip=t},expression:"form.ip"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Contact Person"}},[s("el-input",{model:{value:e.form.user,callback:function(t){e.form.user=t},expression:"form.user"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Contact Number"}},[s("el-input",{model:{value:e.form.phone,callback:function(t){e.form.phone=t},expression:"form.phone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Address"}},[s("el-input",{model:{value:e.form.address,callback:function(t){e.form.address=t},expression:"form.address"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("Submit")])],1)],1)],1)])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-col",{staticClass:"ivp-col",attrs:{span:e.col,id:e.ivpid}},[s("span",{staticStyle:{color:"transparent"}},[e._v(e._s(e.info))]),e._v(" "),s("div",{ref:"ivp",staticClass:"ivp-table line"},[s("div",{staticClass:"ivp-table-box line-box",style:{fontSize:4*e.col+"px"}},[s("div",{staticClass:"line-box-line",style:{backgroundColor:e.color[e.lColor],height:3*e.col+"px"}})])])])},staticRenderFns:[]}},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(2),i=s(35),a=s.n(i),n=s(37),l=s(34),r=s.n(l),c=s(36),u=(s.n(c),s(38)),p=s.n(u);o.default.prototype.$http=p.a,o.default.config.productionTip=!1,o.default.use(r.a),new o.default({el:"#app",router:n.a,template:"<App/>",components:{App:a.a}})},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(81),i=s.n(o),a=s(84),n=s.n(a);t.default={name:"app",components:{CompBar:i.a,CompLeft:n.a}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(17),i=s(83),a=s.n(i);t.default={components:{CompKeep:a.a},data:function(){return{value1:!1}},mounted:function(){"/devices"===this.$route.path&&(this.value1=!1),"/streams"===this.$route.path&&(this.value1=!0)},methods:{click_left:function(e){o.a.$emit("left-show",2)},change_url:function(){!1===this.value1?this.$router.push({path:"/devices"}):this.$router.push({path:"/streams"})}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{dialogFormVisible:!1,formLabelWidth:"80px",backgroundColor:["rgba(144, 164, 174, 0.5)","#cfecfe","rgba(255, 110, 110, 0.5)"],color:["#90a4ae","#11a0f8","#ff6e6e"]}},props:{ivpid:{default:null},sColor:{type:Array,default:function(e){return[0,0,0,0,0,0,0]}},iColor:{type:Number,default:0},col:{type:Number,default:5},info:{default:"information"},slotStatus:{type:Array,default:function(e){return["","","","","","",""]}}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(17),i=s(8);t.default={data:function(){return{loading:!1,show:!1,dialogFormVisible:!1,formLabelWidth:"80px",form:{ip:"",user:"",phone:"",address:""}}},props:{col:{type:Number,default:5},size:{default:function(){return"15px"}}},created:function(){o.a.$on("left-show",this.click_show)},methods:{click_show:function(){!1===this.show?this.show=!0:this.show=!1},open:function(){this.form.ip="",this.form.user="",this.form.phone="",this.form.address="",this.loading=!1},onSubmit:function(){var e=this;if(""===this.form.ip)return void this.$message({showClose:!0,message:"Please fill in IP",type:"error"});this.loading=!0,this.$http.post("/ivps",{ip:this.form.ip,user:this.form.user,phone:this.form.phone,addressofdevice:this.form.address},i.a).then(function(t){e.loading=!1,1===t.data.errorcode?(e.$message({showClose:!0,message:"Success",type:"success"}),e.form.ip="",e.form.user="",e.form.phone="",e.form.address=""):e.$message({showClose:!0,message:"server error:"+t.status,type:"error"})}).catch(function(t){e.loading=!1,e.$message({showClose:!0,message:t.response.status,type:"error"})})}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(8);t.default={data:function(){return{time:5e3,keepIvpFunc:null,keepStreamFunc:null}},mounted:function(){this.keep_ivp_alive(),this.keep_stream_alive()},methods:{keep_ivp:function(){var e=this;this.$http.get("/ivps",o.a).then(function(e){e.data.errorcode}).catch(function(t){clearInterval(e.keepIvpFunc),e.$notify.error({title:"Error(IVP): "+t.response.status,message:"Connection failed. Please try to refresh the page or contact the administrator.",duration:0})}),"/devices"===this.$route.path&&console.log(1),this.$route.path},keep_stream:function(){var e=this;this.$http.get("/ivps/dd",o.a).then(function(e){console.log(1)}).catch(function(t){clearInterval(e.keepStreamFunc),e.$notify.error({title:"Error(Streams): "+t.response.status,message:"Connection failed. Please try to refresh the page or contact the administrator.",duration:0})}),"/devices"===this.$route.path&&console.log(1),this.$route.path},keep_ivp_alive:function(){var e=this;clearInterval(this.keepIvpFunc);var t=this;this.keepIvpFunc=setInterval(function(){e.keep_ivp()},t.time)},keep_stream_alive:function(){var e=this;clearInterval(this.keepStreamFunc);var t=this;this.keepStreamFunc=setInterval(function(){e.keep_stream()},t.time)}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(17);t.default={data:function(){return{show:!1,form1:{second:"",type:""},form2:{second:"",type:""}}},created:function(){o.a.$on("left-show",this.click_show)},methods:{onSubmit_a:function(){console.log("submit!")},onSubmit_b:function(){console.log("submit!")},click_show:function(){!1===this.show?this.show=!0:this.show=!1}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{formLabelWidth:"80px",backgroundColor:["rgba(144, 164, 174, 0.5)","#cfecfe","rgba(255, 110, 110, 0.5)"],color:["#90a4ae","#11a0f8","#ff6e6e"]}},props:{ivpid:{default:null},col:{type:Number,default:5},info:{default:"information"},lColor:{type:Number,default:0}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(27),i=s.n(o),a=s(82),n=s.n(a),l=s(8);t.default={components:{CompIvp:i.a,CompIvpadd:n.a},data:function(){return{loading:!0,col_size:4,ivps:[]}},mounted:function(){this.get_ivp_list()},methods:{get_ivp_list:function(){var e=this;this.$http.get("/ivps/allpos",l.a).then(function(t){if(e.loading=!1,0===t.data.errorcode)for(var s=0;s<t.data.ivp_list.length;s++){for(var o=["","","","","","",""],i=[0,0,0,0,0,0,0],a=0;a<t.data.ivp_list[s].slot_list.length;a++){var n=t.data.ivp_list[s].slot_list[a],l="slot"+a;o[a]=n[l].name.toUpperCase(),""!==n[l].status?("Ready"===n[l].status&&(i[a]=1),"Bad"===n[l].status&&(i[a]=2)):i[a]=0}e.ivps.push({num:s,id:t.data.ivp_list[s].id,ip:t.data.ivp_list[s].ip,slot_name:o,slot_status:i})}else e.$message({showClose:!0,message:"error(server): "+t.data.errorcode,type:"error"})}).catch(function(t){e.loading=!1,e.$message({showClose:!0,message:"error: "+t.response.status,type:"error"})})}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(27),i=s.n(o),a=s(85),n=s.n(a);t.default={components:{CompIvp:i.a,CompLine:n.a},data:function(){var e=6;return e=parseInt(24/(2*this.ivpnum-1))>6?6:parseInt(24/(2*this.ivpnum-1)),{col:e}},props:{ivpnum:{type:Number,default:3},devices:{type:Array,default:function(e){return[{ip:"111",device:2,line:[!1,0],slot:[0,0,0,0,0,0,0],name:["","","","","","",""]},{ip:"113",device:1,line:[!0,0],slot:[0,0,2,0,0,0,0],name:["","","","","","",""]},{ip:"114",device:0,line:[!0,0],slot:[0,0,0,0,0,0,0],name:["","","","","","",""]}]}}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(87),i=s.n(o),a=s(8);t.default={components:{CompStream:i.a},data:function(){return{loading:!0,streams:[]}},mounted:function(){this.get_stream_list()},methods:{get_stream_list:function(){var e=this;this.$http.get("/stream",a.a).then(function(t){e.loading=!1;var s=t.data;if("200"===s.errorcode)for(var o=0;o<s.linklist.length;o++){var i=[],a=!0,n=0;n="running"===s.linklist[o].status?1:2;for(var l=0;l<s.linklist[o].device_list.length;l++){a=0!==l;for(var r=[0,0,0,0,0,0,0],c=["","","","","",""],u=0;u<s.linklist[o].device_list[l].board_list.length;u++){var p="",d=0;"ge"===s.linklist[o].device_list[l].board_list[u].position.replace(/[^a-z]/gi,"")?(d=6,p=s.linklist[o].device_list[l].board_list[u].name+" ("+s.linklist[o].device_list[l].board_list[u].position+")"):(d=s.linklist[o].device_list[l].board_list[u].position.replace(/[^0-9]/gi,""),p=s.linklist[o].device_list[l].board_list[u].name),c[d]=p,"ready"===s.linklist[o].device_list[l].board_list[u].status&&(r[d]=1),"bad"===s.linklist[o].device_list[l].board_list[u].status&&(r[d]=2)}i.push({ip:s.linklist[o].device_list[l].ip,line:[a,n],slot:r,name:c})}e.streams.push(i)}else e.$message({showClose:!0,message:"error(server): "+t.data.errorcode,type:"error"})}).catch(function(t){e.loading=!1,e.$message({showClose:!0,message:"error: "+t.response.status,type:"error"})})}}}}],[113]);
//# sourceMappingURL=app.4bfe1d6c31668c037b93.js.map